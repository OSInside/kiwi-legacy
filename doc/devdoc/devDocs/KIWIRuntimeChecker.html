<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<html>
<head>
<title>KIWIRuntimeChecker Info</title>
</head>
<body text="#000000" bgcolor="#E8E8FF" link="#3333FF" vlink="#663366" alink="#FF0000">
<center><h1>KIWIRuntimeChecker Info</h1></center>
<p>
<hr>
<a name="TOP"></a>
<h2>Public methods</h2>
<p>
<ul>
<li><a href="#createChecks">createChecks</a></li>
<li><a href="#new">new</a></li>
<li><a href="#prepareChecks">prepareChecks</a></li>
</ul>
<h2>Private methods</h2>
<p>
<ul>
<li><a href="#__checkContainerHasLXC">__checkContainerHasLXC</a></li>
<li><a href="#__checkCorrectRootFSPermissons">__checkCorrectRootFSPermissons</a></li>
<li><a href="#__checkFilesystemTool">__checkFilesystemTool</a></li>
<li><a href="#__checkHaveTypeToBuild">__checkHaveTypeToBuild</a></li>
<li><a href="#__checkLVMoemSizeSettings">__checkLVMoemSizeSettings</a></li>
<li><a href="#__checkOEMsizeSettingSufficient">__checkOEMsizeSettingSufficient</a></li>
<li><a href="#__checkPackageManagerExists">__checkPackageManagerExists</a></li>
<li><a href="#__checkPatternTypeAttrValueConsistent">__checkPatternTypeAttrValueConsistent</a></li>
<li><a href="#__checkProfileConsistent">__checkProfileConsistent</a></li>
<li><a href="#__checkRepoAliasUnique">__checkRepoAliasUnique</a></li>
<li><a href="#__checkRootRecycleCapability">__checkRootRecycleCapability</a></li>
<li><a href="#__checkSelectedBootLoaderIncluded">__checkSelectedBootLoaderIncluded</a></li>
<li><a href="#__checkSwapRecommended">__checkSwapRecommended</a></li>
<li><a href="#__checkSystemDiskData">__checkSystemDiskData</a></li>
<li><a href="#__checkUsersConsistent">__checkUsersConsistent</a></li>
<li><a href="#__checkVMControllerCapable">__checkVMControllerCapable</a></li>
<li><a href="#__checkVMConverterExist">__checkVMConverterExist</a></li>
<li><a href="#__checkVMdiskmodeCapable">__checkVMdiskmodeCapable</a></li>
<li><a href="#__checkYaSTenvironment">__checkYaSTenvironment</a></li>
<li><a href="#__hasBootDescription">__hasBootDescription</a></li>
<li><a href="#__hasBootLoaderTools">__hasBootLoaderTools</a></li>
<li><a href="#__hasValidArchives">__hasValidArchives</a></li>
<li><a href="#__hasValidLVMName">__hasValidLVMName</a></li>
<li><a href="#__haveValidTypeString">__haveValidTypeString</a></li>
<li><a href="#__isFsToolAvailable">__isFsToolAvailable</a></li>
<li><a href="#__isoHybridCapable">__isoHybridCapable</a></li>
</ul>
<hr>
<a name="createChecks"><h2>createChecks</h2></a>
<p>
     Runtime checks specific to the create step
<p>
Defined on line: 105
<p>
Called in
<ul>
<li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 766</li></ul>
<a name="new"><h2>new</h2></a>
<p>
     Create the RuntimChecker object
<p>
Defined on line: 60
<p>
Called in
<ul>
<li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 467</li><li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 533</li><li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 742</li></ul>
<a name="prepareChecks"><h2>prepareChecks</h2></a>
<p>
     Runtime checks specific to the prepare step
<p>
Defined on line: 173
<p>
Called in
<ul>
<li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 475</li><li><a href="KIWIImageCreator.html">KIWIImageCreator</a> : 563</li></ul>
<a name="__checkContainerHasLXC"><h2>__checkContainerHasLXC</h2></a>
<p>
     A container build must include the lxc package
<p>
Defined on line: 418
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 113</li></ul>
<a name="__checkCorrectRootFSPermissons"><h2>__checkCorrectRootFSPermissons</h2></a>
<p>
Missing<p>
Defined on line: 1538
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 110</li></ul>
<a name="__checkFilesystemTool"><h2>__checkFilesystemTool</h2></a>
<p>
     Check that the build system has the necessary file
     system tools installed for the requested build.
<p>
Defined on line: 546
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 128</li></ul>
<a name="__checkHaveTypeToBuild"><h2>__checkHaveTypeToBuild</h2></a>
<p>
Missing<p>
Defined on line: 637
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 125</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 190</li></ul>
<a name="__checkLVMoemSizeSettings"><h2>__checkLVMoemSizeSettings</h2></a>
<p>
     Verify that the specified LVM size requirements do not
     exceed the specified OEM system size if specified
<p>
Defined on line: 451
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 152</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 193</li></ul>
<a name="__checkOEMsizeSettingSufficient"><h2>__checkOEMsizeSettingSufficient</h2></a>
<p>
     Verify that the image fits within the specified size
<p>
Defined on line: 652
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 131</li></ul>
<a name="__checkPackageManagerExists"><h2>__checkPackageManagerExists</h2></a>
<p>
     Check that the specified package manager exists
<p>
Defined on line: 700
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 134</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 196</li></ul>
<a name="__checkPatternTypeAttrValueConsistent"><h2>__checkPatternTypeAttrValueConsistent</h2></a>
<p>
     Check that the use of the patternType attribute for the <packages>
     element is consistent. The static component of this is checked during
     XML validation. If no profiles are specified on the command line
     or if the configuration contains a <packages> element without a
     profile attribute there is nothing to do.
<p>
Defined on line: 743
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 199</li></ul>
<a name="__checkProfileConsistent"><h2>__checkProfileConsistent</h2></a>
<p>
     Check if the selected profiles exists
<p>
Defined on line: 724
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 119</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 187</li></ul>
<a name="__checkRepoAliasUnique"><h2>__checkRepoAliasUnique</h2></a>
<p>
     Verify that the repo alias is unique across the currently active repos
<p>
Defined on line: 796
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 202</li></ul>
<a name="__checkRootRecycleCapability"><h2>__checkRootRecycleCapability</h2></a>
<p>
     Check the root tree if --recycle-root is set. In that case
     it's not allowed to use a root tree which is based on
     an image cache
<p>
Defined on line: 825
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 205</li></ul>
<a name="__checkSelectedBootLoaderIncluded"><h2>__checkSelectedBootLoaderIncluded</h2></a>
<p>
     check if the selected bootloader will also be installed into
     the image. This is required for the oem, vmx and pxe image
     types. In case of a pxe type the deploy configuration might
     not require a bootloader e.g for remote root systems. As we
     don't know the deploy configuration at build time the check
     might complain unnecessarily. In such a case add the package
     in question and remove it in config.sh again.
<p>
Defined on line: 362
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 116</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 181</li></ul>
<a name="__checkSwapRecommended"><h2>__checkSwapRecommended</h2></a>
<p>
Missing<p>
Defined on line: 287
<a name="__checkSystemDiskData"><h2>__checkSystemDiskData</h2></a>
<p>
Missing<p>
Defined on line: 851
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 155</li></ul>
<a name="__checkUsersConsistent"><h2>__checkUsersConsistent</h2></a>
<p>
     User definitions may conflict in different profiles in the
     static definition. However, at build time only profiles with
     non conflicting user definitions may be selected.
<p>
Defined on line: 960
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 208</li></ul>
<a name="__checkVMControllerCapable"><h2>__checkVMControllerCapable</h2></a>
<p>
     If a VM image is being built and the specified vmdisk controller,
     then the qemu-img command on the system must support this option.
<p>
Defined on line: 1017
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 140</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 217</li></ul>
<a name="__checkVMConverterExist"><h2>__checkVMConverterExist</h2></a>
<p>
     Check that the preferred converter exists
<p>
Defined on line: 978
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 137</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 214</li></ul>
<a name="__checkVMdiskmodeCapable"><h2>__checkVMdiskmodeCapable</h2></a>
<p>
     qemu-img command must support specified diskmode
<p>
Defined on line: 1085
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 143</li></ul>
<a name="__checkYaSTenvironment"><h2>__checkYaSTenvironment</h2></a>
<p>
Missing<p>
Defined on line: 238
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 178</li></ul>
<a name="__hasBootDescription"><h2>__hasBootDescription</h2></a>
<p>
     Check if the boot description exists according
     to the selected image type
<p>
Defined on line: 1342
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 164</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 226</li></ul>
<a name="__hasBootLoaderTools"><h2>__hasBootLoaderTools</h2></a>
<p>
     Check if the system will work if the use of
     a boot partition is switched off
    
    my $this = shift;
    my $kiwi = $this->{kiwi};
    my $locator = $this->{locator};
    my $xml = $this->{xml};
    my $bldType = $xml -> getImageType();
    if (! $bldType) {
        return 1;
    }
    my $bootpartition = $bldType -> getBootPartition();
    my $filesystem = $bldType -> getFilesystem();
    if ((! $bootpartition) || ($bootpartition eq "true")) {
        return 1;
    }
    if ($filesystem !~ /btrfs|zfs|xfs/) {
        return 1;
    }
    my $bootloader = $bldType -> getBootLoader();
    if ($bootloader ne "grub2") {
        my $msg = "The system is explicitly configured to work ";
        $msg.= "without a boot partition for the $filesystem filesystem. ";
        $msg.= "But this is only supported with the grub2 bootloader. ";
        $msg.= "The currently configured $bootloader bootloader is not ";
        $msg.= "supported in this setup";
        $kiwi -> error($msg);
        $kiwi -> failed();
        return;
    }
    return 1;
}

==========================================
 __hasBootLoaderTools
------------------------------------------
     Check if the selected bootloader can be installed
<p>
Defined on line: 1412
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 158</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 220</li></ul>
<a name="__hasValidArchives"><h2>__hasValidArchives</h2></a>
<p>
     check if the optional given archives doesn't
     include bogus files
<p>
Defined on line: 1188
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 211</li></ul>
<a name="__hasValidLVMName"><h2>__hasValidLVMName</h2></a>
<p>
     check if the optional LVM group name doesn't
     exist on the build host
<p>
Defined on line: 1142
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 146</li></ul>
<a name="__haveValidTypeString"><h2>__haveValidTypeString</h2></a>
<p>
     if the commandline data set contains buildtype
     information, check if it contains a valid string
     This check must be done for prepare and create in
     order to early detect a broken commandline when
     using prepare + create in one call by the --build
     option
<p>
Defined on line: 1239
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 122</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 184</li></ul>
<a name="__isFsToolAvailable"><h2>__isFsToolAvailable</h2></a>
<p>
     Find the tool for a given filesystem name
<p>
Defined on line: 1297
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 566</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 586</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 589</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 592</li><li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 614</li></ul>
<a name="__isoHybridCapable"><h2>__isoHybridCapable</h2></a>
<p>
     If an ISO image is being built check that if an iso hybrid is
     requested, the platform is capable. Check if the uefi capability
     exists if isohybrid is allowed on given platform.
<p>
Defined on line: 1467
<p>
Called in
<ul>
<li><a href="KIWIRuntimeChecker.html">KIWIRuntimeChecker</a> : 149</li></ul>
